<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" >
<style>
table {
  display: table;
  border-collapse: separate;
  border-spacing: 2px;
  border-color: white;
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  width: 200px; /* Corrected CSS */
  background-color: #ffffff;
}
li a {
  display: block;
  color: #000;
  padding: 8px 16px;
  text-decoration: none;
  font-family: verdana;
  text-align: left;
}
/* change the link color on hover */
li a:hover {
  background-color: #555;
  color: white;
}
</style>
<title>Donate</title>
<META NAME="keywords" CONTENT="    ">
<script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GOOGLE_ANALYTICS_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'YOUR_GOOGLE_ANALYTICS_ID');
</script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-firestore.js"></script>
</head>
<body bgcolor="white">
<table width="100%" cellpadding="4" border="0">
<tr>
    <td valign="top" width="75%">
        <div style="font-family: verdana; font-weight:bold; font-size: 24px;">Rabbinical Council of The Charles River    </div>
    </td>
    <td valign="right" width="25%">
        <img style="max-width: 100%; height: auto;" src="Rabbinical Council (1) (1).png" alt="Rabbinical Council Logo">
    </td>
<tr>
    <td align="center" colspan="2">
        <div style="font-family: verdana; font-size:20px; font-weight:bold; width=300px;">Serving the community</div>
    </td>
</tr>
<tr>
    <td colspan="2">
        <hr size="5" style="color: #0000FF">
    </td>
</tr>
</table>
<table>
<tr><td colspan="3" align="right"><font size="-1" face="Arial">

</font></td>
</tr>
<tr>
<td width="10%" align="center" valign="top">
<ul id="sidebar-links">
  </ul>
</td>
<td colspan="2" valign="top">
<div style="font-family: verdana; font-size: 16px;">
<b><h1>Donate</h1>
Donations of cash/check may be given to reb chardle or sent to him. Submitting on this site goes through Boopka. <p>
<b><p>Please enter your information and press the Boopka Button below:</b>
<form name="boopka-donation-form">
  <p>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>
  </p>
  <p>
    <label for="Amount">Amount (in USD):</label>
    <input type="number" id="Amount" name="Amount" step="0.01" required>
  </p>
  <p>
    <label for="email">Email (for receipt):</label>
    <input type="email" id="email" name="email" required>
  </p>
  <p>
    <button type="submit">Boopka</button>
  </p>
</form>
<p>
<hr>
</p>
<b><p>Other Payment Methods:</p></b>
<p>
<b>Zelle:</b> Please zelle donations@rebchardle.org
<p>
<b>Wire Transfer:</b> Please email for wire transfer instructions.
<p>
<b>Credit Card:</b> Email us and we can send you a secure link to submit your card via Stripe.
<p>
<hr>
<p>
<b>Checks should be written to:</b>
<p>
Rabbinical Council of The Charles River<br>
c/o Reb Chardle<br>
...<br>
...<br>
...<br>
...
<p>
<br>
</div>
</td>
</tr>
</table>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form[name="boopka-donation-form"]');
    if (form) {
      form.addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the default form submission

        // Get the form elements
          const donorNameInput = document.getElementById('name');
          const amountInput = document.getElementById('Amount');
          const emailInput = document.getElementById('email');

          const donorName = donorNameInput ? donorNameInput.value.trim() : '';
          const donationAmount = amountInput ? amountInput.value.trim() : '';
          const donorEmail = emailInput ? emailInput.value.trim() : '';

          if (!donorName || !donorEmail || !donationAmount) {
            alert('Please fill in your Name, Email, and Donation Amount before proceeding with Boopka.');
            return;
          }
          if (isNaN(parseFloat(donationAmount)) || !isFinite(donationAmount) || parseFloat(donationAmount) <= 0) {
            alert('Please enter a valid donation amount.');
            amountInput.focus();
            return;
          }

          // Redirect to boopka.netlify.app/payment.html with query parameters
          const boopkaUrl = `https://boopka.netlify.app/payment.html?to=donations@rebchardle.org&amount=${encodeURIComponent(donationAmount)}&note=${encodeURIComponent(donorName)}`;
          window.location.href = boopkaUrl;
        }
        // If other payment methods were present and selected,
        // the form would submit to Netlify here (due to no event.preventDefault()).
      });
    } else {
      console.error("Donation form not found. Check the form's name attribute.");
    }
  });
</script>
<script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDa-q7h7VTuHxffftGK44NhKKfLt0w8qjM",
  authDomain: "rccr-main.firebaseapp.com",
  projectId: "rccr-main",
  storageBucket: "rccr-main.firebasestorage.app",
  messagingSenderId: "221328154434",
  appId: "1:221328154434:web:a6000a45f5d4ba964532db",
  measurementId: "G-97BBMTGDR0"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function renderSidebarLinks() {
        const ul = document.getElementById('sidebar-links');
        if (!ul) {
            console.error('Sidebar links UL not found!');
            return;
        }
        // Always include a Home link as the first item
        ul.innerHTML = '<li><a href=\"index.html\">Home</a></li>'; 
        
        db.collection('sidebarLinks').orderBy('order').get().then(qs => {
            if (qs.empty) {
                return;
            }
            qs.forEach(doc => {
                const l = doc.data();
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.textContent = l.text;
                a.href = l.url;
                if (l.targetBlank) { a.target = '_blank'; a.rel = 'noopener'; }
                li.appendChild(a);
                ul.appendChild(li);
            });
        }).catch(err => {
            console.error('Error loading links:', err);
            ul.innerHTML = '<li>Error loading links</li>';
        });
    }

    document.addEventListener('DOMContentLoaded', renderSidebarLinks);
</script>
</body>
</html>
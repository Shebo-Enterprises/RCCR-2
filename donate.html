<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" >
<style>
table {
  display: table;
  border-collapse: separate;
  border-spacing: 2px;
  border-color: white;
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  width: 200px; /* Corrected CSS */
  background-color: #ffffff;
}
li a {
  display: block;
  color: #000;
  padding: 8px 16px;
  text-decoration: none;
  font-family: verdana;
  text-align: left;
}
/* change the link color on hover */
li a:hover {
  background-color: #555;
  color: white;
}
</style>
<title>Donate</title>
<META NAME="keywords" CONTENT="    ">
<script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GOOGLE_ANALYTICS_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'YOUR_GOOGLE_ANALYTICS_ID');
</script>
</head>
<body bgcolor="white">
<table width="100%" cellpadding="4" border="0">
<tr>
    <td valign="top" width="75%">
        <div style="font-family: verdana; font-weight:bold; font-size: 24px;">Rabbinical Council of The Charles River    </div>
    </td>
    <td valign="right" width="25%">
        <img style="max-width: 100%; height: auto;" src="Rabbinical Council (1) (1).png" alt="Rabbinical Council Logo">
    </td>
<tr>
    <td align="center" colspan="2">
        <div style="font-family: verdana; font-size:20px; font-weight:bold; width=300px;">Serving the community</div>
    </td>
</tr>
<tr>
    <td colspan="2">
        <hr size="5" style="color: #0000FF">
    </td>
</tr>
</table>
<table>
<tr><td colspan="3" align="right"><font size="-1" face="Arial">

</font></td>
</tr>
<tr>
<td width="10%" align="center" valign="top">
<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="team.html">Vaad</a></li>
  <li><a href="subsidy.html">KRCKA Subsidy</a></li>
  <li><a href="parnes-hashvua.html">Parnes Hashvua</a></li>
  <li><a href="contact.html">Contact</a></li>


</ul>
</td>
<td colspan="2" valign="top">

<div style="font-family: verdana; font-size: 16px;">
<b><h1>Donate</h1>
    Donations of cash/check may be given to reb chardle or sent to him. Submitting on this site is a pledge, unless paying with BOOPKA.
</b>
<p>Please fill out the form below to donate.</p>

<form name="donation" method="post" data-netlify="true" data-netlify-honeypot="bot-field" action="/success">
  <input type="hidden" name="form-name" value="donation" />
  <p hidden>
    <label>
      Don't fill this out: <input name="bot-field" />
    </label>
  </p>

  <p>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required />
  </p>

  <p>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required />
  </p>

  <p>
    <label>Donation Info:</label><br>
    <input type="radio" id="check" name="inquiry_type" value="check" required>
    <label for="check">Check</label><br>
    <input type="radio" id="cash" name="inquiry_type" value="cash" required>
    <label for="cash">Cash</label><br> {/* Corrected label for attribute */}
    <input type="radio" id="boopka" name="inquiry_type" value="boopka" required>
    <label for="boopka">Pay now with Boopka</label><br>
  </p>

  <p>
    <label for="Amount">Amount:</label>
    <textarea id="Amount" name="Amount" required></textarea>
  </p>

  <p>
    <button type="submit">Donate</button>
  </p>
</form>
</div>
</td>
</tr>
</table>
<hr size="2" style="color: #0000FF">
<p>
</td>
</tr>
<tr><td colspan="3"><font size="-2" face="verdana">Copyright, RCCR    , <script>document.write(new Date().getFullYear())</script></font>
<br>
<p>
<FONT face=arial,helvetica,sans-serif color=#000000 size="-2">Powered By: Shebo Enterprises <a href="admin.html">Admin Log-in</a></FONT>
</td></tr>
</table>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const donationForm = document.forms['donation'];
    const originalAction = donationForm.action; // Store original action for Netlify

    if (donationForm) {
      donationForm.addEventListener('submit', function(event) {
        const paymentMethodInput = document.querySelector('input[name="inquiry_type"]:checked');
        
        if (paymentMethodInput && paymentMethodInput.value === 'boopka') {
          event.preventDefault(); // Prevent default submission to Netlify/original action

          const donorNameInput = document.getElementById('name');
          const amountInput = document.getElementById('Amount');
          const emailInput = document.getElementById('email'); // Email is usually needed by FormSubmit

          const donorName = donorNameInput ? donorNameInput.value.trim() : '';
          const donationAmount = amountInput ? amountInput.value.trim() : '';
          const donorEmail = emailInput ? emailInput.value.trim() : '';

          if (!donorName || !donorEmail || !donationAmount) {
            alert('Please fill in your Name, Email, and Donation Amount before proceeding with Boopka.');
            return;
          }
          // Basic validation for amount to ensure it's a number (or can be parsed as one)
          if (isNaN(parseFloat(donationAmount)) || !isFinite(donationAmount) || parseFloat(donationAmount) <= 0) {
            alert('Please enter a valid donation amount.');
            amountInput.focus();
            return;
          }
          
          // Set form action to FormSubmit for Boopka
          donationForm.action = 'https://formsubmit.co/shayatzvi@gmail.com';
          // Add a hidden input for FormSubmit to redirect after submission (optional)
          let nextInput = donationForm.querySelector('input[name="_next"]');
          if (!nextInput) {
            nextInput = document.createElement('input');
            nextInput.type = 'hidden';
            nextInput.name = '_next';
            donationForm.appendChild(nextInput);
          }
          nextInput.value = window.location.origin + '/success.html'; // Or your desired success page for Boopka

          // Add a hidden input for the subject (optional)
          let subjectInput = donationForm.querySelector('input[name="_subject"]');
          if(!subjectInput) {
            subjectInput = document.createElement('input');
            subjectInput.type = 'hidden';
            subjectInput.name = '_subject';
            donationForm.appendChild(subjectInput);
          }
          subjectInput.value = `New Boopka Donation from ${donorName}`;
          
          donationForm.submit(); // Submit the form to FormSubmit
        } else {
          // For non-Boopka, ensure the action is set back to Netlify's /success (or original)
          donationForm.action = originalAction; 
          // Remove FormSubmit specific hidden inputs if they were added
          const nextInput = donationForm.querySelector('input[name="_next"]');
          if (nextInput) nextInput.remove();
          const subjectInput = donationForm.querySelector('input[name="_subject"]');
          if (subjectInput) subjectInput.remove();
          // And let the default Netlify submission proceed (no event.preventDefault() here)
        }
      });
    }
  });
</script>
</body>
</html>
